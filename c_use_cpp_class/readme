from: https://gist.github.com/3516034
use C to call c++ map
